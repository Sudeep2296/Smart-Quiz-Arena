{% extends 'base.html' %}

{% block title %}Home - SmartQuiz Arena{% endblock %}

{% block content %}
{% load static %}

<!-- Splash Screen -->
<div id="splashScreen" class="splash-screen">
    <div class="splash-content">
        <i class="fas fa-brain splash-icon"></i>
        <h1 class="splash-title">SmartQuiz Arena</h1>
        <div class="splash-tagline">Challenge Your Mind</div>
    </div>
</div>

<style>
    /* Splash Screen Styles */
    .splash-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
        background-size: 400% 400%;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        animation: gradientShift 8s ease infinite;
    }

    @keyframes gradientShift {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }

    .splash-content {
        text-align: center;
        animation: fadeInScale 1s ease-out;
    }

    @keyframes fadeInScale {
        0% {
            opacity: 0;
            transform: scale(0.8);
        }

        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    .splash-icon {
        font-size: 120px;
        color: white;
        margin-bottom: 30px;
        display: block;
        animation: pulse 2s ease-in-out infinite;
        filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.8));
    }

    @keyframes pulse {

        0%,
        100% {
            transform: scale(1);
            filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.8));
        }

        50% {
            transform: scale(1.1);
            filter: drop-shadow(0 0 50px rgba(255, 255, 255, 1));
        }
    }

    .splash-title {
        font-size: 72px;
        font-weight: 800;
        color: white;
        margin: 0;
        text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        letter-spacing: 2px;
        animation: slideUp 0.8s ease-out 0.3s both;
    }

    @keyframes slideUp {
        0% {
            opacity: 0;
            transform: translateY(30px);
        }

        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .splash-tagline {
        font-size: 24px;
        color: rgba(255, 255, 255, 0.9);
        margin-top: 15px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        letter-spacing: 4px;
        text-transform: uppercase;
        animation: slideUp 0.8s ease-out 0.6s both;
    }

    .splash-screen.fade-out {
        animation: fadeOut 0.8s ease-out forwards;
    }

    @keyframes fadeOut {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
            visibility: hidden;
        }
    }

    /* Hide main content initially */
    .main-content {
        opacity: 0;
        animation: fadeIn 0.8s ease-out 3s forwards;
    }

    @keyframes fadeIn {
        0% {
            opacity: 0;
        }

        100% {
            opacity: 1;
        }
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .splash-icon {
            font-size: 80px;
        }

        .splash-title {
            font-size: 48px;
        }

        .splash-tagline {
            font-size: 18px;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Handle splash screen fade out
        const splashScreen = document.getElementById('splashScreen');
        setTimeout(() => {
            splashScreen.classList.add('fade-out');
            setTimeout(() => {
                splashScreen.style.display = 'none';
            }, 800);
        }, 3000);

        // Handle form submission
        const form = document.getElementById('singlePlayerForm');
        if (form) {
            form.addEventListener('submit', function (e) {
                const submitBtn = form.querySelector('button[type="submit"]');
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
            });
        }
    });
</script>

<!-- Main Content -->
<div class="main-content">
    <!-- Hero Section -->
    <div class="row mb-5">
        <div class="col-12 text-center animate-fade-in">
            <h1 class="display-3 fw-bold gradient-text mb-3">Welcome to SmartQuiz Arena</h1>
            <p class="lead text-muted fs-5">Challenge yourself with AI-generated aptitude questions, compete in
                real-time
                multiplayer, and battle in 1vs1 code challenges!</p>
        </div>
    </div>

    <!-- Game Modes Grid -->
    <div class="row g-4 mb-5">
        <!-- Single Player Mode -->
        <div class="col-md-4 animate-slide-up" style="animation-delay: 0.1s;">
            <div class="card game-mode-card h-100">
                <div class="card-body text-center p-4 d-flex flex-column">
                    <div class="mb-4" style="position: relative;">
                        <div
                            style="width: 80px; height: 80px; margin: 0 auto; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 20px; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);">
                            <i class="fas fa-user fa-2x text-white"></i>
                        </div>
                    </div>
                    <h4 class="card-title fw-bold mb-3">Single Player</h4>
                    <p class="card-text text-muted mb-4 flex-grow-1">Test your knowledge with personalized quizzes
                        and track your progress with streaks and achievements.</p>
                    <a href="{% url 'single_player' %}" class="btn btn-primary w-100 mt-auto">
                        <i class="fas fa-play me-2"></i>Start Quiz
                    </a>
                </div>
            </div>
        </div>

        <!-- Multiplayer Mode -->
        <div class="col-md-4 animate-slide-up" style="animation-delay: 0.2s;">
            <div class="card game-mode-card h-100">
                <div class="card-body text-center p-4 d-flex flex-column">
                    <div class="mb-4" style="position: relative;">
                        <div
                            style="width: 80px; height: 80px; margin: 0 auto; background: linear-gradient(135deg, #4facfe, #00f2fe); border-radius: 20px; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 24px rgba(79, 172, 254, 0.3);">
                            <i class="fas fa-users fa-2x text-white"></i>
                        </div>
                    </div>
                    <h4 class="card-title fw-bold mb-3">Multiplayer</h4>
                    <p class="card-text text-muted mb-4 flex-grow-1">Join real-time quiz rooms, compete with friends,
                        and climb the live leaderboards.
                    </p>
                    <a href="{% url 'multiplayer:home' %}" class="btn btn-success w-100 mt-auto">
                        <i class="fas fa-users me-2"></i>Join Room
                    </a>
                </div>
            </div>
        </div>

        <!-- Coding Challenges Mode -->
        <div class="col-md-4 animate-slide-up" style="animation-delay: 0.3s;">
            <div class="card game-mode-card h-100">
                <div class="card-body text-center p-4 d-flex flex-column">
                    <div class="mb-4" style="position: relative;">
                        <div
                            style="width: 80px; height: 80px; margin: 0 auto; background: linear-gradient(135deg, #fa709a, #fee140); border-radius: 20px; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 24px rgba(250, 112, 154, 0.3);">
                            <i class="fas fa-code fa-2x text-white"></i>
                        </div>
                    </div>
                    <h4 class="card-title fw-bold mb-3">Coding Challenges</h4>
                    <p class="card-text text-muted mb-4 flex-grow-1">Challenge opponents in 1vs1 coding battles.
                        Write, test, and compete in real-time!
                    </p>
                    <a href="{% url 'code_battle' %}" class="btn btn-warning w-100 mt-auto">
                        <i class="fas fa-code me-2"></i>Start Battle
                    </a>
                </div>
            </div>
        </div>
    </div>




    <!-- Recent Achievements -->
    {% if user.is_authenticated and user.userprofile.achievements.all %}
    <div class="row mb-5 animate-fade-in">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0 text-white"><i class="fas fa-trophy me-2"></i>Recent Achievements</h4>
                </div>
                <div class="card-body p-4">
                    <div class="row g-4">
                        {% for achievement in user.userprofile.achievements.all|slice:":6" %}
                        <div class="col-md-2 col-sm-4 col-6">
                            <div class="text-center achievement-badge" style="transition: all 0.3s ease;">
                                <div
                                    style="width: 60px; height: 60px; margin: 0 auto 10px; background: linear-gradient(135deg, #fa709a, #fee140); border-radius: 15px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(250, 112, 154, 0.3);">
                                    <i class="fas fa-medal fa-2x text-white"></i>
                                </div>
                                <p class="mb-0 small fw-bold text-dark">{{ achievement.name }}</p>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        .achievement-badge:hover {
            transform: translateY(-5px);
        }

        .achievement-badge:hover>div {
            box-shadow: 0 8px 25px rgba(250, 112, 154, 0.5) !important;
        }
    </style>
    {% endif %}




</div>
<!-- End Main Content -->

{% endblock %}